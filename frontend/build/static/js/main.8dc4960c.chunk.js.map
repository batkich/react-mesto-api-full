{"version":3,"sources":["components/Header.js","images/Vector2.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/PageNotFound.js","components/Login.js","components/Register.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","utils/Auth.js","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","mail","link","way","name","userData","className","href","target","to","onClick","localStorage","removeItem","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onCardDelete","src","alt","onCardClick","onCardLike","length","Main","useEffect","handleheader","onEditAvatar","Vector","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","popupContainerClass","titleClass","onClose","title","onSubmit","noValidate","children","subMit","ImagePopup","api","options","this","baseUrl","res","ok","json","Promise","reject","status","token","fetch","headers","then","_checkResponse","item","method","body","JSON","stringify","data","PageNotFound","Login","useState","email","setEmail","password","setPassword","e","preventDefault","handleLogin","onChange","value","placeholder","minLength","maxLength","required","Register","handleRegister","EditProfilePopup","setName","setDescription","description","onUpdateUser","id","EditAvatarPopup","avatarRef","useRef","undefined","current","onUpdateAvatar","console","log","ref","AddPlacePopup","setLink","ProtectedRoute","Component","component","loggedIn","BASE_URL","InfoTooltip","authValue","popupClose","pictureType","infoText","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAuthPopupOpen","setAuthPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","headerView","setHeaderView","setUserData","popupValue","setPopupValue","history","useHistory","handleAuthPopup","closeAllPopups","getItem","all","getInitialCards","getProfileInfo","catch","err","Auth","push","tokenCheck","location","Provider","exact","path","changeLikeCardStatus","newCard","state","c","deleteCard","filter","handlePopup","response","setItem","setProfileInfo","setNewCard","setNewAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8dc4960c.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Header(props) {\n  let mail = '';\n  let link = '';\n  let way = ''\n  if (props.name === 'signin') {\n    link = 'Регистрация';\n    way = './sign-up';\n  } else if (props.name === 'signup') {\n    link = 'Войти';\n    way = './sign-in';\n  } else {\n    mail = props.userData;\n    link = 'Выйти'\n    way = './sign-in'\n  }\n\n  function signOut() {\n    localStorage.removeItem('token')\n  }\n\n  return (\n    <header className=\"header\">\n      <a href=\"./index.html\" className=\"header__logo\" target=\"_blank\"> </a>\n      <div className=\"header__login\">\n        <p className=\"header__email\">{mail}</p>\n        <Link className=\"link link_type_header\" to={way} onClick={signOut}>{link}\n        </Link>\n      </div>\n      <div className=\"header__line\">\n      </div>\n    </header>\n  )\n}\n\nexport default Header\n","export default __webpack_public_path__ + \"static/media/Vector2.ae1a976d.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n  const isOwn = props.card.owner === currentUser._id;\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  const cardDeleteButtonClassName = `element__delete-button ${\n    isOwn ? \"element__delete-button\" : \"element__delete-button_disabled\"\n  }`;\n\n  const isLiked = props.card.likes.some((i) => i === currentUser._id);\n\n  const cardLikeButtonClassName = `element__button ${\n    isLiked ? \"element__button_type_active\" : \"element__button\"\n  }`;\n\n  return (\n    <li className=\"element\">\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      ></button>\n      <img\n        className=\"element__picture\"\n        src={`${props.card.link}`}\n        alt={`${props.card.name}`}\n        onClick={handleClick}\n      />\n      <div className=\"element__footer\">\n        <h2 className=\"element__title\">{props.card.name}</h2>\n        <div className=\"element__button-box\">\n          <button\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          ></button>\n          <span className=\"element__button-counter\">\n            {props.card.likes.length}\n          </span>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Vector from '../../src/images/Vector2.svg';\nimport Card from '../components/Card.js'\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    props.handleheader();\n  },);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-box\" onClick={props.onEditAvatar}>\n          <img className=\"profile__avatar-cursor\" src={Vector} alt=\"Курсор аватара профиля\" />\n          <img className=\"profile__avatar\"\n            src={`${currentUser.avatar}`} alt=\"Аватар профиля\" />\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__info-name\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"profile__link-edit\" onClick={props.onEditProfile}>\n          </button>\n          <p className=\"profile__info-text\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__link-add\" onClick={props.onAddPlace}>\n        </button>\n      </section>\n      <ul className=\"elements\">\n\n        {props.cards.map((card) => (\n          <Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n        ))}\n      </ul>\n    </main>\n  )\n}\n\nexport default Main\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">\r\n        © 2020 Mesto Russia\r\n      </p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <div className={props.isOpen ? `popup popup_type_${props.name} popup_opened` : `popup popup_type_${props.name}`}>\r\n      <div className={`popup__container popup__container_type_${props.popupContainerClass}`}>\r\n        <button type=\"button\" className={`popup__close-icon popup__close-icon_type_${props.titleClass}`} onClick={props.onClose}></button>\r\n        <h2 className={`popup__title popup__title_type_${props.titleClass}`}>{props.title}</h2>\r\n        <form className={`popup__form popup__form_type_${props.titleClass}`} name=\"profile-form\" onSubmit={props.onSubmit} noValidate >\r\n          {props.children}\r\n          <button type=\"submit\" className={`popup__button popup__button_type_${props.titleClass}`} onClick={props.onSubmit}>{props.subMit}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div className={props.card.name ? `popup popup_type_${props.name} popup_opened` : `popup popup_type_${props.name}`}>\r\n      <div className=\"popup__container popup__container_type_picture\">\r\n        <button type=\"button\" className=\"popup__close-icon popup__close-icon_type_picture\" onClick={props.onClose}></button>\r\n        <img className=\"popup__picture\" src={`${props.card.link}`} alt={`${props.card.name}`} />\r\n        <h2 className=\"popup__title popup__title_type_picture\">{props.card.name}</h2>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup\r\n","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getProfileInfo(token) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n      .then(this._checkResponse);\n  }\n\n  getInitialCards(token) {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n      .then(this._checkResponse);\n  }\n\n  setProfileInfo(token, item) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about,\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  setNewCard(token, data) {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      method: 'POST',\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  deleteCard(token, item) {\n    return fetch(`${this.baseUrl}/cards/${item}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      method: 'DELETE',\n    })\n      .then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(token, item, isLiked,) {\n    return fetch(`${this.baseUrl}/cards/${item}/likes/`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      method: isLiked ? 'PUT' : 'DELETE',\n    })\n      .then(this._checkResponse);\n  }\n\n  setNewAvatar(token, item) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      },\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar: item.avatar,\n      })\n    })\n      .then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://santyagobatkich.students.nomoredomains.work',\n});\n\nexport default api;\n","import React from 'react';\r\n\r\nfunction PageNotFound() {\r\n    return (\r\n        <p className=\"content\">Страница не найдена</p>\r\n    )\r\n}\r\n\r\nexport default PageNotFound;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction Login(props) {\n  React.useEffect(() => {\n    props.handleheader();\n  });\n\n  const [email, setEmail] = React.useState(\"\");\n\n  const [password, setPassword] = React.useState(\"\");\n\n  function handleSetEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleSetPassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleLogin(password, email);\n  }\n\n  return (\n    <div className=\"content\">\n      <PopupWithForm\n        name=\"login\"\n        title=\"Вход\"\n        subMit=\"Войти\"\n        titleClass=\"sign\"\n        popupContainerClass=\"sign\"\n        onSubmit={handleSubmit}\n      >\n        <input\n          type=\"email\"\n          onChange={handleSetEmail}\n          placeholder=\"Email\"\n          className=\"popup__input popup__input_type_sign\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          required\n        />\n        <input\n          type=\"password\"\n          onChange={handleSetPassword}\n          name=\"info\"\n          placeholder=\"Пароль\"\n          className=\"popup__input popup__input_type_sign\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          required\n        />\n      </PopupWithForm>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register(props) {\r\n  React.useEffect(() => {\r\n    props.handleheader();\r\n  });\r\n\r\n  const [email, setEmail] = React.useState(\"\");\r\n\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  function handleSetEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleSetPassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.handleRegister(password, email);\r\n  }\r\n\r\n  return (\r\n    <div className=\"content content_type_sign\">\r\n      <PopupWithForm\r\n        name=\"login\"\r\n        title=\"Регистрация\"\r\n        subMit=\"Зарегестрироваться\"\r\n        titleClass=\"sign\"\r\n        popupContainerClass=\"sign\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          type=\"email\"\r\n          onChange={handleSetEmail}\r\n          placeholder=\"Email\"\r\n          className=\"popup__input popup__input_type_sign\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          onChange={handleSetPassword}\r\n          name=\"info\"\r\n          placeholder=\"Пароль\"\r\n          className=\"popup__input popup__input_type_sign\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n        />\r\n      </PopupWithForm>\r\n      <Link className=\"link link_type_sign\" to=\"./sign-in\">\r\n        Уже зарегестрированы? Войти\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [props.isOpen, currentUser]);\n\n  const [name, setName] = React.useState('');\n\n  const [description, setDescription] = React.useState('');\n\n  function handleSetName(e) {\n    setName(e.target.value);\n  }\n\n  function handleSetDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} subMit=\"Сохранить\" onSubmit={handleSubmit} titleClass=\"profile\"\n    >\n      <input type=\"text\" value={name || ''} onChange={handleSetName} id=\"popup__nickname\" name=\"nickname\" placeholder=\"Имя\" className=\"popup__input\" minLength=\"2\"\n        maxLength=\"40\" required />\n      <span className=\"popup__error popup__nickname-error\"></span>\n      <input type=\"text\" value={description || ''} onChange={handleSetDescription} id=\"popup__info\" name=\"info\" placeholder=\"О себе\" className=\"popup__input\" minLength=\"2\"\n        maxLength=\"200\" required />\n      <span className=\"popup__error popup__info-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (avatarRef.current !== undefined) {\n      props.onUpdateAvatar({\n        avatar: avatarRef.current.value,\n      });\n      console.log(avatarRef.current.value)\n    }\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      subMit=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        ref={avatarRef}\n        id=\"popup__avatar\"\n        name=\"avatar\"\n        placeholder=\"Ссылка на картинку\"\n        className=\"popup__input\"\n        required\n      />\n      <span className=\"popup__error popup__avatar-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  const [name, setName] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setLink(\"\");\r\n    setName(\"\");\r\n  }, [props.isOpen]);\r\n\r\n  function handleSetLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSetCardName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlace({\r\n      link,\r\n      name,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"card\"\r\n      title=\"Новое место\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      subMit=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        value={name || \"\"}\r\n        onChange={handleSetCardName}\r\n        id=\"popup__newplace\"\r\n        name=\"newplace\"\r\n        placeholder=\"Название\"\r\n        className=\"popup__input\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        required\r\n      />\r\n      <span className=\"popup__error popup__newplace-error\"></span>\r\n      <input\r\n        type=\"url\"\r\n        value={link || \"\"}\r\n        onChange={handleSetLink}\r\n        id=\"popup__picture\"\r\n        name=\"picture\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        className=\"popup__input\"\r\n        required\r\n      />\r\n      <span className=\"popup__error popup__picture-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {\r\n                () =>\r\n                    props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />\r\n            }\r\n        </Route>\r\n    );\r\n}\r\n\r\nexport default ProtectedRoute;","export const BASE_URL = 'https://santyagobatkich.students.nomoredomains.work';\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n       'Accept': 'application/json',\n       'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ password, email })\n  })\n    .then((response) => {\n      try {\n        if (response.status === 200) {\n          return response.json();\n        }\n      } catch (e) {\n        return (e)\n      }\n    })\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ password, email })\n  })\n    .then((response => response.json()))\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        return data.token;\n      }\n    })\n    .catch(err => console.log(err))\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n    .then(res => res.json())\n    .then(data => data)\n}\n","import React from \"react\";\r\n\r\nfunction InfoTooltip(props) {\r\n  function onAuthClose() {\r\n    props.popupClose();\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        props.authValue\r\n          ? `popup popup_type_${props.name} popup_opened`\r\n          : `popup popup_type_${props.authValue}`\r\n      }\r\n    >\r\n      <div className={`popup__container popup__container_type_${props.name}`}>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-icon popup__close-icon_type_picture\"\r\n          onClick={onAuthClose}\r\n        ></button>\r\n        <div\r\n          className={`popup__picture popup__picture_type_${props.pictureType}`}\r\n        ></div>\r\n        <p className=\"popup__title popup__title_type_auth\">{props.infoText}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/Api\";\nimport PageNotFound from \"./PageNotFound\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"../components/EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as Auth from \"../utils/Auth.js\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n\n  const [isAuthPopupOpen, setAuthPopupOpen] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n\n  const [headerView, setHeaderView] = React.useState(\"signin\");\n\n  const [userData, setUserData] = React.useState(\"some@mail.ru\");\n\n  const [popupValue, setPopupValue] = React.useState({\n    pictureType: \"register\",\n    infoText: \"Вы успешно зарегистрировались!\",\n  });\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      Promise.all([api.getInitialCards(token), api.getProfileInfo(token)])\n        .then(([cards, userData]) => {\n          setCards(cards);\n          setCurrentUser(userData);\n        })\n        .catch((err) => {\n          console.log(`Ошибка: ${err}`);\n        });\n    }\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, [history.location]);\n\n  function tokenCheck() {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      Auth.getContent(token)\n        .then((res) => {\n          if (res) {\n            setUserData(res.email);\n            setLoggedIn(true);\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => {\n          console.log(`Ошибка: ${err}`);\n        });\n    }\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleAuthPopup() {\n    setAuthPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setAuthPopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleSignInHeader() {\n    setHeaderView(\"signin\");\n  }\n\n  function handleSignUpHeader() {\n    setHeaderView(\"signup\");\n  }\n\n  function handleSignedHeader() {\n    setHeaderView(\"signed\");\n  }\n\n  function handleLogin(password, email) {\n    Auth.authorize(password, email)\n      .then((res) => {\n        if (res) {\n          api.getProfileInfo(res)\n          .then((data) => {\n            setCurrentUser(data);\n          });\n          setLoggedIn(true);\n          history.push(\"/\");\n          setUserData(email);\n        } else {\n          setPopupValue({\n            ...popupValue,\n            pictureType: \"login\",\n            infoText: \"Что-то пошло не так! Попробуйте еще раз.\",\n          });\n          handleAuthPopup();\n        }\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n    const token = localStorage.getItem(\"token\");\n    api\n      .changeLikeCardStatus(token, card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleCardDelete(card) {\n    const token = localStorage.getItem(\"token\");\n    api\n      .deleteCard(token, card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleUpdateUser(data) {\n    const token = localStorage.getItem(\"token\");\n    api\n      .setProfileInfo(token, data)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    const token = localStorage.getItem(\"token\");\n    api\n      .setNewAvatar(token ,data)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleAddPlaceSubmit(data) {\n    const token = localStorage.getItem(\"token\");\n    api\n      .setNewCard(token, data)\n      .then((res) => {\n        setCards([res, ...cards]);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleRegister(password, email) {\n    Auth.register(password, email)\n      .then((res) => {\n        if (res) {\n          setPopupValue({\n            ...popupValue,\n            pictureType: \"register\",\n            infoText: \"Вы успешно зарегистрировались!\",\n          });\n          handleAuthPopup();\n          history.push(\"./sign-in\");\n        } else {\n          setPopupValue({\n            ...popupValue,\n            pictureType: \"login\",\n            infoText: \"Что-то пошло не так! Попробуйте еще раз.\",\n          });\n          handleAuthPopup();\n        }\n      })\n      .catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"root\">\n          <Header name={headerView} userData={userData} />\n          <Switch>\n            <ProtectedRoute\n              exact\n              path=\"/\"\n              loggedIn={loggedIn}\n              component={Main}\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              cards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              handleheader={handleSignedHeader}\n            />\n            <Route path=\"/sign-up\">\n              <Register\n                onClose={closeAllPopups}\n                handlePopup={handleAuthPopup}\n                handleheader={handleSignUpHeader}\n                handleRegister={handleRegister}\n              />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login\n                onClose={closeAllPopups}\n                handleheader={handleSignInHeader}\n                handleLogin={handleLogin}\n                handlePopup={handleAuthPopup}\n              />\n            </Route>\n            <Route path=\"*\">\n              <PageNotFound />\n            </Route>\n          </Switch>\n          <Footer />\n        </div>\n\n        <InfoTooltip\n          name=\"auth\"\n          authValue={isAuthPopupOpen}\n          popupClose={closeAllPopups}\n          pictureType={popupValue.pictureType}\n          link=\"\"\n          infoText={popupValue.infoText}\n        ></InfoTooltip>\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <PopupWithForm name=\"delete\" title=\"Вы уверены?\" subMit=\"Да\">\n          <button\n            type=\"button\"\n            className=\"popup__close-icon popup__close-icon_type_card\"\n          ></button>\n          <h2 className=\"popup__title popup__title_type_delete\">Вы уверены?</h2>\n        </PopupWithForm>\n        <ImagePopup\n          name=\"picture\"\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {BrowserRouter} from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App/>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}