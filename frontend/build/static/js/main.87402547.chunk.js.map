{"version":3,"sources":["components/Header.js","images/Vector2.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/PageNotFound.js","components/InfoTooltip.js","components/Auth.js","components/Login.js","components/Register.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","mail","link","way","name","userData","className","href","target","to","onClick","localStorage","removeItem","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onCardDelete","src","alt","onCardClick","onCardLike","length","Main","useEffect","handleheader","onEditAvatar","Vector","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","popupContainerClass","titleClass","onClose","title","onSubmit","noValidate","children","subMit","ImagePopup","api","options","this","baseUrl","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","item","method","body","JSON","stringify","data","authorization","PageNotFound","InfoTooltip","authValue","popupClose","pictureType","infoText","BASE_URL","Login","history","useHistory","useState","email","setEmail","password","setPassword","e","preventDefault","response","token","setItem","catch","err","console","log","Auth","handleLogin","push","handlePopup","onChange","value","placeholder","minLength","maxLength","required","Register","popupValue","setPopupValue","handleRegPopup","EditProfilePopup","setName","setDescription","description","onUpdateUser","id","EditAvatarPopup","avatarRef","useRef","undefined","current","onUpdateAvatar","ref","AddPlacePopup","setLink","ProtectedRoute","Component","component","loggedIn","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAuthPopupOpen","setAuthPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","headerView","setHeaderView","setUserData","handleAuthPopup","closeAllPopups","all","getInitialCards","getProfileInfo","getItem","tokenCheck","Provider","exact","path","changeLikeCardStatus","newCard","state","c","deleteCard","filter","setProfileInfo","setNewCard","setNewAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.87402547.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Header(props) {\n  let mail = '';\n  let link = '';\n  let way = ''\n  if (props.name === 'signin') {\n    link = 'Регистрация';\n    way = './sign-up';\n  } else if (props.name === 'signup') {\n    link = 'Войти';\n    way = './sign-in';\n  } else {\n    mail = props.userData;\n    link = 'Выйти'\n    way = './sign-in'\n  }\n\n  function signOut() {\n    localStorage.removeItem('token')\n  }\n\n  return (\n    <header className=\"header\">\n      <a href=\"./index.html\" className=\"header__logo\" target=\"_blank\"> </a>\n      <div className=\"header__login\">\n        <p className=\"header__email\">{mail}</p>\n        <Link className=\"link link_type_header\" to={way} onClick={signOut}>{link}\n        </Link>\n      </div>\n      <div className=\"header__line\">\n      </div>\n    </header>\n  )\n}\n\nexport default Header\n","export default __webpack_public_path__ + \"static/media/Vector2.a086f758.svg\";","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = (\n    `element__delete-button ${isOwn ? 'element__delete-button' : 'element__delete-button_disabled'}`\n  );\n\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n  const cardLikeButtonClassName = (\n    `element__button ${isLiked ? 'element__button_type_active' : 'element__button'}`\n  );;\n\n  return (\n    <li className=\"element\">\n      <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}>\n      </button>\n      <img className=\"element__picture\" src={`${props.card.link}`} alt={`${props.card.name}`} onClick={handleClick} />\n      <div className=\"element__footer\">\n        <h2 className=\"element__title\">\n          {props.card.name}\n        </h2>\n        <div className=\"element__button-box\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}>\n          </button>\n          <span className=\"element__button-counter\">{props.card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card\n","import React from 'react';\nimport Vector from '../../src/images/Vector2.svg';\nimport Card from '../components/Card.js'\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    props.handleheader();\n  });\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-box\" onClick={props.onEditAvatar}>\n          <img className=\"profile__avatar-cursor\" src={Vector} alt=\"Курсор аватара профиля\" />\n          <img className=\"profile__avatar\"\n            src={`${currentUser.avatar}`} alt=\"Аватар профиля\" />\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__info-name\">{currentUser.name}</h1>\n          <button type=\"button\" className=\"profile__link-edit\" onClick={props.onEditProfile}>\n          </button>\n          <p className=\"profile__info-text\">{currentUser.about}</p>\n        </div>\n        <button type=\"button\" className=\"profile__link-add\" onClick={props.onAddPlace}>\n        </button>\n      </section>\n      <ul className=\"elements\">\n        {props.cards.map((card) => (\n          <Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n        ))}\n      </ul>\n    </main>\n  )\n}\n\nexport default Main\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">\n        © 2020 Mesto Russia\n      </p>\n    </footer>\n  )\n}\n\nexport default Footer\n","function PopupWithForm(props) {\n  return (\n    <div className={props.isOpen ? `popup popup_type_${props.name} popup_opened` : `popup popup_type_${props.name}`}>\n      <div className={`popup__container popup__container_type_${props.popupContainerClass}`}>\n        <button type=\"button\" className={`popup__close-icon popup__close-icon_type_${props.titleClass}`} onClick={props.onClose}></button>\n        <h2 className={`popup__title popup__title_type_${props.titleClass}`}>{props.title}</h2>\n        <form className={`popup__form popup__form_type_${props.titleClass}`} name=\"profile-form\" onSubmit={props.onSubmit} noValidate >\n          {props.children}\n          <button type=\"submit\" className={`popup__button popup__button_type_${props.titleClass}`} onClick={props.onSubmit}>{props.subMit}</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm\n","function ImagePopup(props) {\n  return (\n    <div className={props.card.name ? `popup popup_type_${props.name} popup_opened` : `popup popup_type_${props.name}`}>\n      <div className=\"popup__container popup__container_type_picture\">\n        <button type=\"button\" className=\"popup__close-icon popup__close-icon_type_picture\" onClick={props.onClose}></button>\n        <img className=\"popup__picture\" src={`${props.card.link}`} alt={`${props.card.name}`} />\n        <h2 className=\"popup__title popup__title_type_picture\">{props.card.name}</h2>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup\n","class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getProfileInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    })\n      .then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n    })\n      .then(this._checkResponse);\n  }\n\n  setProfileInfo(item) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about,\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  setNewCard(data) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  deleteCard(item) {\n    return fetch(`${this.baseUrl}/cards/${item}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    })\n      .then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(item, isLiked) {\n    return fetch(`${this.baseUrl}/cards/likes/${item}`, {\n      method: isLiked ? 'PUT' : 'DELETE',\n      headers: this.headers,\n    })\n      .then(this._checkResponse);\n  }\n\n  setNewAvatar(item) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: item.avatar,\n      })\n    })\n      .then(this._checkResponse);\n  }\n}\n\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-27',\n  headers: {\n    authorization: '235ae6c2-9d59-4d94-a816-03a2b688c17b',\n    'Content-Type': 'application/json',\n  }\n});\n\nexport default api;\n","import React from 'react';\r\n\r\nfunction PageNotFound() {\r\n    return (\r\n        <p className=\"content\">Страница не найдена</p>\r\n    )\r\n}\r\n\r\nexport default PageNotFound;","import React from 'react';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  function onAuthClose() {\r\n    props.popupClose();\r\n  }\r\n\r\n  return (\r\n    <div className={props.authValue ? `popup popup_type_${props.name} popup_opened` : `popup popup_type_${props.authValue}`}>\r\n      <div className={`popup__container popup__container_type_${props.name}`}>\r\n        <button type=\"button\" className=\"popup__close-icon popup__close-icon_type_picture\" onClick={onAuthClose}></button>\r\n        <div className={`popup__picture popup__picture_type_${props.pictureType}`}></div>\r\n        <p className=\"popup__title popup__title_type_auth\">{props.infoText}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ password, email })\r\n  })\r\n    .then((response) => {\r\n      try {\r\n        if (response.status === 201) {\r\n          return response.json();\r\n        }\r\n      } catch (e) {\r\n        return (e)\r\n      }\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ password, email })\r\n  })\r\n    .then((response => response.json()))\r\n    .then((data) => {\r\n      if (data.token) {\r\n        localStorage.setItem('token', data.token);\r\n        return data.token;\r\n      }\r\n    })\r\n    .catch(err => console.log(err))\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => data)\r\n} ","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport * as Auth from './Auth.js';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nfunction Login(props) {\r\n\r\n  const history = useHistory();\r\n\r\n  function popupClose() {\r\n    props.onClose();\r\n  }\r\n\r\n  function setLoginTrue() {\r\n    props.handleLogin();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    props.handleheader();\r\n  });\r\n\r\n  const [email, setEmail] = React.useState('');\r\n\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleSetEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleSetPassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleAuthPopup() {\r\n    props.handlePopup();\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    Auth.authorize(password, email).then((res) => {\r\n      if (res) {\r\n        setLoginTrue();\r\n        history.push('/');\r\n      } else {\r\n        handleAuthPopup();\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <PopupWithForm name=\"login\" title=\"Вход\" subMit=\"Войти\" titleClass=\"sign\" popupContainerClass=\"sign\" onSubmit={handleSubmit}>\r\n        <input type=\"email\" onChange={handleSetEmail} placeholder=\"Email\" className=\"popup__input popup__input_type_sign\" minLength=\"2\"\r\n          maxLength=\"40\" required />\r\n        <input type=\"password\" onChange={handleSetPassword} name=\"info\" placeholder=\"Пароль\" className=\"popup__input popup__input_type_sign\" minLength=\"2\"\r\n          maxLength=\"200\" required />\r\n      </PopupWithForm>\r\n      <InfoTooltip name='auth' authValue={props.authValue} popupClose={popupClose} pictureType=\"login\" link=\"\" infoText=\"Что-то пошло не так! Попробуйте еще раз.\"></InfoTooltip>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport * as Auth from './Auth.js';\r\n\r\n\r\nfunction Register(props) {\r\n\r\n  const history = useHistory();\r\n\r\n  const [popupValue, setPopupValue] = React.useState({ pictureType: 'register', infoText: 'Вы успешно зарегистрировались!' });\r\n\r\n  function popupClose() {\r\n    props.onClose();\r\n    history.push('./sign-in');\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    props.handleheader();\r\n  });\r\n\r\n  const [email, setEmail] = React.useState('');\r\n\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleSetEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleSetPassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handlePopupValue() {\r\n    setPopupValue({ ...popupValue, pictureType: 'login', infoText: 'Что-то пошло не так! Попробуйте еще раз.' });\r\n  }\r\n\r\n  function handleRegPopup() {\r\n    props.handlePopup();\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    Auth.register(password, email).then((res) => {\r\n      if (res) {\r\n        handleRegPopup();\r\n      } else {\r\n        handlePopupValue();\r\n        handleRegPopup();\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"content content_type_sign\">\r\n      <PopupWithForm name=\"login\" title=\"Регистрация\" subMit=\"Зарегестрироваться\" titleClass=\"sign\" popupContainerClass=\"sign\" onSubmit={handleSubmit}>\r\n        <input type=\"email\" onChange={handleSetEmail} placeholder=\"Email\" className=\"popup__input popup__input_type_sign\" minLength=\"2\"\r\n          maxLength=\"40\" required />\r\n        <input type=\"password\" onChange={handleSetPassword} name=\"info\" placeholder=\"Пароль\" className=\"popup__input popup__input_type_sign\" minLength=\"2\"\r\n          maxLength=\"200\" required />\r\n      </PopupWithForm>\r\n      <Link className=\"link link_type_sign\" to='./sign-in'>Уже зарегестрированы? Войти</Link>\r\n      <InfoTooltip name='auth' authValue={props.authValue} popupClose={popupClose} pictureType={popupValue.pictureType} link=\"\" infoText={popupValue.infoText}></InfoTooltip>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [props.isOpen, currentUser]);\n\n  const [name, setName] = React.useState('');\n\n  const [description, setDescription] = React.useState('');\n\n  function handleSetName(e) {\n    setName(e.target.value);\n  }\n\n  function handleSetDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose} subMit=\"Сохранить\" onSubmit={handleSubmit} titleClass=\"profile\"\n    >\n      <input type=\"text\" value={name || ''} onChange={handleSetName} id=\"popup__nickname\" name=\"nickname\" placeholder=\"Имя\" className=\"popup__input\" minLength=\"2\"\n        maxLength=\"40\" required />\n      <span className=\"popup__error popup__nickname-error\"></span>\n      <input type=\"text\" value={description || ''} onChange={handleSetDescription} id=\"popup__info\" name=\"info\" placeholder=\"О себе\" className=\"popup__input\" minLength=\"2\"\n        maxLength=\"200\" required />\n      <span className=\"popup__error popup__info-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (avatarRef.current !== undefined) {\n      props.onUpdateAvatar({\n        avatar: avatarRef.current.value,\n      });\n    }\n  }\n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={props.isOpen} onClose={props.onClose} subMit=\"Сохранить\" onSubmit={handleSubmit}\n    >\n      <input type=\"url\" ref={avatarRef} id=\"popup__avatar\" name=\"avatar\" placeholder=\"Ссылка на картинку\" className=\"popup__input\"\n        required />\n      <span className=\"popup__error popup__avatar-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n\n  const [link, setLink] = React.useState('');\n\n  const [name, setName] = React.useState('');\n\n  React.useEffect(() => {\n    setLink('');\n    setName('');\n  }, [props.isOpen]);\n\n  function handleSetLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSetCardName(e) {\n    setName(e.target.value);\n  }\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace({\n      link,\n      name,\n    });\n  }\n\n  return (\n    <PopupWithForm name=\"card\" title=\"Новое место\" isOpen={props.isOpen} onClose={props.onClose} subMit=\"Сохранить\" onSubmit={handleSubmit}\n    >\n      <input type=\"text\" value={name || ''} onChange={handleSetCardName} id=\"popup__newplace\" name=\"newplace\" placeholder=\"Название\" className=\"popup__input\"\n        minLength=\"2\" maxLength=\"30\" required />\n      <span className=\"popup__error popup__newplace-error\"></span>\n      <input type=\"url\" value={link || ''} onChange={handleSetLink} id=\"popup__picture\" name=\"picture\" placeholder=\"Ссылка на картинку\" className=\"popup__input\"\n        required />\n      <span className=\"popup__error popup__picture-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {\r\n                () =>\r\n                    props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />\r\n            }\r\n        </Route>\r\n    );\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/Api\";\nimport PageNotFound from \"./PageNotFound\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"../components/EditProfilePopup\";\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as Auth from './Auth.js';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n\n  const [isAuthPopupOpen, setAuthPopupOpen] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n\n  const [headerView, setHeaderView] = React.useState('signin');\n\n  const [userData, setUserData] = React.useState('some@mail.ru')\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    Promise.all([api.getInitialCards(), api.getProfileInfo()])\n      .then(([cards, userData]) => {\n        setCards(cards);\n        setCurrentUser(userData);\n      }).catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    tokenCheck();\n  });\n\n  function tokenCheck() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      Auth.getContent(token).then((res) => {\n        if (res) {\n          setUserData(res.data.email);\n          handleLogin();\n          history.push('/');\n        }\n      });\n    }\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleAuthPopup() {\n    setAuthPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setAuthPopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleSignInHeader() {\n    setHeaderView('signin');\n  }\n\n  function handleSignUpHeader() {\n    setHeaderView('signup');\n  }\n\n  function handleSignedHeader() {\n    setHeaderView('signed');\n  }\n\n  function handleLogin() {\n    setLoggedIn(true);\n  }\n\n  function handleCardLike(card) {\n\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    }).catch((err) => {\n      console.log(`Ошибка: ${err}`);\n    });\n\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      setCards((state) => state.filter((c) => c._id !== card._id));\n    }).catch((err) => {\n      console.log(`Ошибка: ${err}`);\n    });\n  }\n\n  function handleUpdateUser(data) {\n    api.setProfileInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditProfilePopupOpen(false);\n      }).catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    api.setNewAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditAvatarPopupOpen(false);\n      }).catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.setNewCard(data)\n      .then((res) => {\n        setCards([res, ...cards]);\n        setIsAddPlacePopupOpen(false);\n      }).catch((err) => {\n        console.log(`Ошибка: ${err}`);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"root\">\n          <Header name={headerView} userData={userData} />\n          <Switch>\n            <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main} onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardClick={handleCardClick}\n              cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} handleheader={handleSignedHeader} />\n            <Route path=\"/sign-up\">\n              <Register authValue={isAuthPopupOpen} onClose={closeAllPopups} handlePopup={handleAuthPopup} handleheader={handleSignUpHeader} />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login authValue={isAuthPopupOpen} onClose={closeAllPopups} handleheader={handleSignInHeader} handleLogin={handleLogin} handlePopup={handleAuthPopup} />\n            </Route>\n            <Route path=\"*\">\n              <PageNotFound />\n            </Route>\n          </Switch>\n          <Footer />\n        </div>\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <PopupWithForm name=\"delete\" title=\"Вы уверены?\" subMit=\"Да\"\n        >\n          <button type=\"button\" className=\"popup__close-icon popup__close-icon_type_card\"></button>\n          <h2 className=\"popup__title popup__title_type_delete\">Вы уверены?</h2>\n        </PopupWithForm>\n        <ImagePopup name=\"picture\" card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App/>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}